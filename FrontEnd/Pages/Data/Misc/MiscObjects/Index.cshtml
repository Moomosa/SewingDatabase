@page "{currentpage=1}/{sort?}/{sortDirection?}"
@using ModelLibrary.Models.Shared;
@model FrontEnd.Pages.Data.Misc.MiscObjects.IndexModel

@{
	ViewData["Title"] = "Index";
	var currentSortProperty = Model.Sort;
	var currentSortDirection = Model.SortDirection;
	var columns = new List<TableHeaderModel>
	{
		new TableHeaderModel("ItemType.Item", "Item Type", currentSortProperty, currentSortDirection),
		new TableHeaderModel("Quantity", "Quantity", currentSortProperty, currentSortDirection),
		new TableHeaderModel("Brand", "Brand", currentSortProperty, currentSortDirection),
		new TableHeaderModel("SpecificInfo", "Specific Info", currentSortProperty, currentSortDirection),
		new TableHeaderModel("AdditionalNotes", "Additional Notes", currentSortProperty, currentSortDirection),
		new TableHeaderModel("Value", "Value", currentSortProperty, currentSortDirection),
		new TableHeaderModel("PurchasePrice", "Purchase Price", currentSortProperty, currentSortDirection)
	};
}

<h1>Miscellaneous Items</h1>

@if (Model.Items.Count != 0)
{
	<div class="d-flex justify-content-between align-items-center">
		<h4>
			<a asp-page="Create">Add New Item</a>
		</h4>
		<partial name="_PageSizeDropdown" model="Model" />
	</div>
	<table class="table table-colors">
		<thead>
			<tr>
				@foreach (var column in columns)
				{
					<partial name="_SortableHeader" model="column" />
				}
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model.Items)
			{
				<tr class="table-row-clickable" data-href='@Url.Page("./Details", new {id = item.ID})'>
					<td>
						@Html.DisplayFor(modelItem => item.ItemType.Item)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Quantity)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Brand)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.SpecificInfo)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.AdditionalNotes)
					</td>
					<td class="hide-on-mobile">
						@Html.DisplayFor(modelItem => item.Value)
					</td>
					<td class="hide-on-mobile">
						@Html.DisplayFor(modelItem => item.PurchasePrice)
					</td>
					<td>
						<a asp-page="./Edit" asp-route-id="@item.ID" class="btn btn-primary btn-sm hide-on-mobile" title="Edit"><i class="fas fa-edit"></i></a>
						<a asp-page="./Details" asp-route-id="@item.ID" class="btn btn-info btn-sm hide-on-mobile" title="Details"><i class="fas fa-info-circle text-white"></i></a>
						<a asp-page="./Delete" asp-route-id="@item.ID" class="btn btn-danger btn-sm hide-on-mobile" title="Delete"><i class="fas fa-trash-alt"></i></a>
					</td>
				</tr>
			}
		</tbody>
	</table>
	<div>
		@await Html.PartialAsync("_Pagination", Model)
	</div>
}
else
{
	<h5>Do you have things that don't fit in the other categories? Let's add them <a asp-page="./Create">here</a>.</h5>
}